"use strict";(self["webpackChunkvuejs_mytick8_com"]=self["webpackChunkvuejs_mytick8_com"]||[]).push([[428],{2094:function(e,t,s){s.d(t,{L:function(){return l}});var a=s(9876);const l=(0,a.Q_)("user",{state:()=>({user:JSON.parse(localStorage.getItem("user"))||{name:"",family:"",mobile:""},token:localStorage.getItem("token")||"",q:""}),getters:{getUser(e){return e.user},getToken(e){return e.token},getExpiresAt(e){return e.expires_at},getQ(e){return e.q},isAuth(e){let t=e.token;return t}},actions:{setUser(e){this.user=e,localStorage.setItem("user",JSON.stringify(e))},setToken(e){this.token=e,localStorage.setItem("token",e)},setExpiresAt(e){this.expires_at=e,localStorage.setItem("expires_at",e)},logout(){this.user="",this.token="",localStorage.removeItem("user"),localStorage.removeItem("token")},setQ(e){this.q=e}}})},9063:function(e,t,s){s.d(t,{Z:function(){return u}});var a=s(6252),l=s(3577);const i={id:"breadcrumb",class:"my-4 pb-3"},c={class:"container"},n={class:"breadcrumb"},o={class:"breadcrumb-item"},r={key:0,class:"breadcrumb-item active","aria-current":"page"};var m={__name:"Breadcrumb",props:["program"],setup(e){return(t,s)=>{const m=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",c,[(0,a._)("nav",null,[(0,a._)("ol",n,[(0,a._)("li",o,[(0,a.Wm)(m,{to:{name:"home"}},{default:(0,a.w5)((()=>[(0,a.Uk)("برنامه ها")])),_:1})]),e.program?((0,a.wg)(),(0,a.iD)("li",r,(0,l.zw)(e.program.artist.name+" "+e.program.artist.family),1)):(0,a.kq)("",!0)])])])])}}};const p=m;var u=p},3465:function(e,t,s){s.d(t,{Z:function(){return b}});var a=s(6252),l=s(3577),i=s(2262),c=s(9101),n=s(1905);const o={class:"concert-banner"},r={key:0,class:"d-grid h-100"},m={class:"concert-banner__caption p-5"},p={class:"concert-banner__caption--title pe-2 mb-2"},u={class:"concert-banner__caption--info d-flex justify-content-start align-items-center mb-2"},_=["alt"],d={class:"concert-banner__caption--info d-flex justify-content-start align-items-center mb-2"},g=["alt"],f={class:"concert-banner__image"},y=["src","alt"];var v={__name:"Cover",props:["program"],setup(e){let t="https://api/mytick8.com/";return(s,v)=>((0,a.wg)(),(0,a.iD)("div",o,[e.program?((0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",m,[(0,a._)("h1",p,(0,l.zw)(`${e.program.artist.name} ${e.program.artist.family}`),1),(0,a._)("p",u,[(0,a._)("img",{src:c,alt:e.program.hall.hall_name,class:"me-1",width:"25.1px",height:"25.1px"},null,8,_),(0,a.Uk)(" "+(0,l.zw)(e.program.hall.city.city_name)+" ،"+(0,l.zw)(e.program.hall.hall_name),1)]),(0,a._)("p",d,[(0,a._)("img",{src:n,alt:e.program.hall.hall_name,class:"me-1",width:"25.1px",height:"25.1px"},null,8,g),(0,a.Uk)(" "+(0,l.zw)(e.program.run_date),1)])]),(0,a._)("div",f,[(0,a._)("img",{class:"h-100",src:(0,i.SU)(t)+e.program.cover,alt:e.program.hall.hall_name},null,8,y)])])):(0,a.kq)("",!0)]))}};const h=v;var b=h},2468:function(e,t,s){s.r(t),s.d(t,{default:function(){return Me}});s(560);var a=s(6252),l=s(2262),i=s(9963),c=s(3577),n=(s.p,s(9101)),o=s(1905),r=s.p+"img/ticket-time.a9ee4f54.svg",m=s(2201),p=s(1602),u=s(5925),_=s(3002),d=s(2094),g=s(3465),f=s(2496),y=s(7853),v=s(9063);const h={key:0,class:"d-flex justify-content-center mb-5"},b=(0,a._)("div",{class:"spinner-border spinner-border-sm text-danger",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1),x=[b],k={id:"select-info"},w={class:"container"},S={id:"buy-process",class:"my-5"},U={class:"nav justify-content-md-evenly justify-content-center align-items-center"},I={class:"nav-item buy-process__item col active"},z=(0,a._)("div",{class:"buy-process--shape"},[(0,a._)("span",{class:"buy-process--shape-num"},"1")],-1),j=(0,a._)("p",{class:"buy-process--text"},"انتخاب سانس",-1),D={class:"nav-item buy-process__item col active"},q=(0,a._)("div",{class:"buy-process--shape"},[(0,a._)("span",{class:"buy-process--shape-num"},"2")],-1),O=(0,a._)("p",{class:"buy-process--text"},"انتخاب صندلی",-1),$=(0,a.uE)('<li class="nav-item buy-process__item col active"><div class="nav-link buy-process__link px-sm-3 px-2"><div class="buy-process--shape"><span class="buy-process--shape-num">3</span></div><p class="buy-process--text">تکمیل اطلاعات</p></div></li><li class="nav-item buy-process__item col"><a class="nav-link buy-process__link px-sm-3 px-2" href="#"><div class="buy-process--shape"><span class="buy-process--shape-num">4</span></div><p class="buy-process--text">پرداخت</p></a></li><li class="nav-item buy-process__item col"><a class="nav-link buy-process__link px-sm-3 px-2" href="#"><div class="buy-process--shape"><span class="buy-process--shape-num">5</span></div><p class="buy-process--text">دریافت بلیت</p></a></li>',3),H={id:"select-info",class:"select-info mb-5"},L={method:"post"},C={class:"row"},T={class:"col-lg-6"},Z={class:"row mb-3"},N={class:"col-sm-6"},A=(0,a._)("label",{for:"InputFirstName",class:"form-label form-label--required"},"نام",-1),B={key:0,style:{"font-size":"11px"},class:"text-danger"},F={class:"col-sm-6"},V=(0,a._)("label",{for:"InputLastName",class:"form-label form-label--required"},"نام خانوادگی",-1),W={key:0,style:{"font-size":"11px"},class:"text-danger"},E={class:"row mb-3"},M={class:"col-sm-6"},Q=(0,a._)("label",{for:"mobile",class:"form-label form-label--required"},"موبایل",-1),J={key:0,style:{"font-size":"11px"},class:"text-danger"},Y={class:"col-sm-6"},K=(0,a._)("label",{for:"InputBank",class:"form-label"},"نحوه پرداخت",-1),G=(0,a._)("option",{value:"gate_bank"},"پرداخت آنلاین",-1),P=(0,a._)("option",{value:"wallet"},"کیف پول",-1),R=[G,P],X={key:0,style:{"font-size":"11px"},class:"text-danger"},ee={class:"row mb-5"},te={class:"col-sm-6"},se=(0,a._)("label",{for:"Inputcaptcha",class:"form-label"},"کد تخفیف دارید؟",-1),ae={class:"d-flex"},le={key:0,class:"spinner-border spinner-border-sm",role:"status"},ie=(0,a._)("span",{class:"visually-hidden"},"Loading...",-1),ce=[ie],ne={key:1},oe={key:0,style:{"font-size":"11px"},class:"text-danger"},re=(0,a._)("div",{class:"select-info__description"},[(0,a._)("h6",{class:"select-info__description--heading mb-3"},"قوانین و توضیحات:"),(0,a._)("p",{class:"select-info__description--text"}," کلیه کارتهای عضو شتاب قابل قبول است.تمام صندلی های خریداری شده در این خرید، برای شماره موبایلی که در همین صفحه وارد میکنید صادر شده و اطلاعات برای ایشان پیامک میشود..پس از این مرحله وارد درگاه پرداخت بانکی میشوید و اشکالات احتمالی در آن مرحله مربوط به سایت مای تیک ۸ نمیباشد.اگر به هر دلیلی موفق به پرداخت نشوید، صندلی ها به مدت ۱۰ دقیقه برای شما رزرو میماند(رنگ نارنجی) و پس از آن برای خرید باز میشوند. ")],-1),me={class:"col-lg-6"},pe={class:"select-info__part mb-3"},ue={class:"select-info__title d-flex flex-wrap justify-content-between align-items-center mt-lg-0 mb-1 mt-3"},_e={class:"select-info__title--heading mb-3 px-2"},de={class:"select-info__title--list"},ge={class:"select-info__title--item d-flex justify-content-start align-items-center mb-2"},fe=(0,a._)("img",{src:n,alt:"",class:"me-1",width:"14.9px",height:"17.9px"},null,-1),ye={class:"select-info__title--item d-flex justify-content-start align-items-center mb-2"},ve=(0,a._)("img",{src:o,alt:"",class:"me-1",width:"18.4px",height:"19.9px"},null,-1),he={class:"select-info__title--item d-flex justify-content-start align-items-center mb-2"},be=(0,a._)("img",{src:r,alt:"",class:"me-1",width:"19px",height:"19px"},null,-1),xe={class:"select-info__checkout pb-3"},ke=(0,a.uE)('<ul class="select-info__checkout--titles nav justify-content-around align-items-center py-2 px-4"><li class="select-info__checkout--th col text-center">جایگاه</li><li class="select-info__checkout--th col text-center">ردیف</li><li class="select-info__checkout--th col text-center">صندلی</li><li class="select-info__checkout--th col text-center">قیمت</li></ul>',1),we={class:"select-info__checkout--item col text-center"},Se={class:"select-info__checkout--item col text-center"},Ue={class:"select-info__checkout--item col text-center"},Ie={class:"select-info__checkout--item col text-center"},ze={class:"select-info__checkout--total nav justify-content-evenly align-items-center py-1 px-5"},je=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mb-3",width:"100%",height:"3",viewBox:"0 0 435 3",fill:"none"},[(0,a._)("path",{d:"M0.205078 1.40454L434.351 2.29138",stroke:"#BAC6D3"})],-1),De=(0,a._)("li",{class:"select-info__checkout--total-item col text-start"},"مبلغ کل:",-1),qe={class:"select-info__checkout--total-item col text-end"},Oe={class:"select-info__checkout--total-tax nav justify-content-evenly align-items-center py-1 px-5"},$e=(0,a._)("li",{class:"select-info__checkout--total-tax-item col text-start"},"مبلغ کل با احتساب ۹٪ ارزش افزوده:",-1),He={class:"select-info__checkout--total-tax-item col text-end"},Le={class:"select-info__checkout--total-tax nav justify-content-evenly align-items-center py-1 px-5"},Ce=(0,a._)("li",{class:"select-info__checkout--total-tax-item col text-start"},"مبلغ قابل پرداخت:",-1),Te={class:"select-info__checkout--total-tax-item col text-end"},Ze={key:0,class:"spinner-border spinner-border-sm",role:"status"},Ne=(0,a._)("span",{class:"visually-hidden"},"Loading...",-1),Ae=[Ne],Be={key:1},Fe={key:0,class:"text-danger"},Ve={key:1,class:"text-danger"};var We={__name:"SelectInfo",setup(e){const t=(0,m.yj)(),s=(0,m.tv)(),n=(0,u.x)(),o=(0,d.L)(),r=(0,_.pm)(),b=(0,l.qj)(o.getUser);let G=(0,l.iH)(!1),P=(0,l.iH)(!1),ie=((0,l.iH)(!1),(0,l.iH)(!1)),Ne=(0,l.iH)(""),We=(0,l.iH)(""),Ee=(0,l.iH)(""),Me=((0,l.iH)(""),(0,l.iH)("")),Qe=(0,l.iH)("gate_bank"),Je=(0,l.iH)(""),Ye={};async function Ke(){P.value=!0;const e=`/programs/${t.params.programId}/sans/${t.params.sanId}/check/tickets`,a=await(0,y.O9)(e);if("error"==a.status){const e=`/programs/${t.params.programId}/sans/${t.params.sanId}/select-chairs`;for(let t of a.expiredAtTickets)n.removeSeatFromCart(t.id);s.push(e)}try{let e=`/programs/${t.params.programId}/sans/${t.params.sanId}/payments?key=${Me.value}`;const a=await p.Z.post(e,{seats:n.getCart.map((e=>e.id)),name:b.name,family:b.family,mobile:b.mobile,captcha:We.value,payment_type:Qe.value,platform:"web",discount:Je.value});P.value=!1,"success"===a.data.status&&(o.setUser(a.data.data.user),o.setToken(a.data.data.token),"wallet"==Qe.value?(r.success("خرید با موفقیت انجام شد",{timeout:2e3}),s.push({name:"Site.show.ticket",params:{program_id:t.params.programId,san_id:t.params.sanId,order_id:a.data.data.order_id}})):s.push(a.data.data.payment_url),n.clearCart())}catch(l){console.log(l.response.data.message),422==l.response.status&&(Ye=l.response.data.message)}finally{P.value=!1}}async function Ge(){if(!ie.value)try{ie.value=!0;const e=await p.Z.post("apply/discount/code",{mobile:b.mobile,discount:Je.value,total_price:n.getTotal});"success"==e.data.status&&(r.success("کد تخفیف اعمال گردید",{timeout:2e3}),n.setDiscount(parseInt(e.data.amountDiscount)))}catch(e){422==e.response.status&&(Ye=e.response.data.message)}finally{ie.value=!1}}return(0,a.bv)((async()=>{const e=`/programs/${t.params.programId}/sans/${t.params.sanId}/select-info`;try{G.value=!0;const t=await p.Z.post(e,{seats:n.getCart.map((e=>e.id))});"success"==t.data.status&&(Ne.value=t.data.data.program,Ee.value=t.data.data.start_date,(0,f.u)({title:(0,a.Fl)((()=>`${Ne.value.title} - ${Ne.value.artist.name} ${Ne.value.artist.family}`)),meta:[{name:"description",content:(0,a.Fl)((()=>Ne.value.title+" "+Ne.value.hall.title+" "+Ne.value.hall.city.title))}]}))}catch(l){r.error((0,y.S3)(l).join(""),{timeout:2e3}),500==l.response.status&&s.push({name:"seats",params:{programId:t.params.programId,sanId:t.params.sanId}})}finally{G.value=!1}})),(e,s)=>{const o=(0,a.up)("router-link");return(0,l.SU)(G)?((0,a.wg)(),(0,a.iD)("div",h,x)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a.Wm)(v.Z,{program:(0,l.SU)(Ne)},null,8,["program"]),(0,a._)("section",k,[(0,a._)("div",w,[(0,a.Wm)(g.Z,{program:(0,l.SU)(Ne)},null,8,["program"]),(0,a._)("div",S,[(0,a._)("ul",U,[(0,a._)("li",I,[(0,a.Wm)(o,{to:{name:"select_time",params:{id:(0,l.SU)(t).params.programId}},class:"nav-link buy-process__link px-sm-3 px-2"},{default:(0,a.w5)((()=>[z,j])),_:1},8,["to"])]),(0,a._)("li",D,[(0,a.Wm)(o,{to:{name:"seats",params:{programId:(0,l.SU)(t).params.programId,sanId:(0,l.SU)(t).params.sanId}},class:"nav-link buy-process__link px-sm-3 px-2"},{default:(0,a.w5)((()=>[q,O])),_:1},8,["to"])]),$])]),(0,a._)("div",H,[(0,a._)("form",L,[(0,a._)("div",C,[(0,a._)("div",T,[(0,a._)("div",Z,[(0,a._)("div",N,[A,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"InputFirstName","onUpdate:modelValue":s[0]||(s[0]=e=>b.name=e),placeholder:"لطفا نام خود را وارد کنید"},null,512),[[i.nr,b.name]]),Object.hasOwn((0,l.SU)(Ye),"name")?((0,a.wg)(),(0,a.iD)("span",B,(0,c.zw)((0,l.SU)(Ye).name.shift()),1)):(0,a.kq)("",!0)]),(0,a._)("div",F,[V,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":s[1]||(s[1]=e=>b.family=e),id:"InputLastName",placeholder:"لطفا نام خانوادگی خود را وارد کنید"},null,512),[[i.nr,b.family]]),Object.hasOwn((0,l.SU)(Ye),"family")?((0,a.wg)(),(0,a.iD)("div",W,(0,c.zw)((0,l.SU)(Ye).family.shift()),1)):(0,a.kq)("",!0)])]),(0,a._)("div",E,[(0,a._)("div",M,[Q,(0,a.wy)((0,a._)("input",{type:"tel",class:"form-control",id:"mobile","onUpdate:modelValue":s[2]||(s[2]=e=>b.mobile=e),placeholder:"09xxxxxxxx مثال"},null,512),[[i.nr,b.mobile]]),Object.hasOwn((0,l.SU)(Ye),"mobile")?((0,a.wg)(),(0,a.iD)("div",J,(0,c.zw)((0,l.SU)(Ye).mobile.shift()),1)):(0,a.kq)("",!0)]),(0,a._)("div",Y,[K,(0,a.wy)((0,a._)("select",{class:"form-control form-select","onUpdate:modelValue":s[3]||(s[3]=e=>(0,l.dq)(Qe)?Qe.value=e:Qe=e),id:"InputBank"},R,512),[[i.bM,(0,l.SU)(Qe)]]),Object.hasOwn((0,l.SU)(Ye),"payment_type")?((0,a.wg)(),(0,a.iD)("div",X,(0,c.zw)((0,l.SU)(Ye).payment_type.shift()),1)):(0,a.kq)("",!0)])]),(0,a.kq)("",!0),(0,a._)("div",ee,[(0,a._)("div",te,[se,(0,a._)("div",ae,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control me-2","onUpdate:modelValue":s[5]||(s[5]=e=>(0,l.dq)(Je)?Je.value=e:Je=e),id:"input-discount-code",placeholder:"لطفا کد تخفیف را وارد کنید"},null,512),[[i.nr,(0,l.SU)(Je)]]),(0,a._)("button",{class:"select-chair__select--btn btn mx-auto apply-discount__code",onClick:Ge,type:"button"},[(0,l.SU)(ie)?((0,a.wg)(),(0,a.iD)("div",le,ce)):((0,a.wg)(),(0,a.iD)("span",ne,"اعمال"))])]),Object.hasOwn((0,l.SU)(Ye),"discount")?((0,a.wg)(),(0,a.iD)("div",oe,(0,c.zw)((0,l.SU)(Ye).discount.shift()),1)):(0,a.kq)("",!0)])]),re]),(0,a._)("div",me,[(0,a._)("div",pe,[(0,a._)("div",ue,[(0,a._)("h3",_e,(0,c.zw)((0,l.SU)(Ne).artist&&(0,l.SU)(Ne).artist.name)+" "+(0,c.zw)((0,l.SU)(Ne).artist&&(0,l.SU)(Ne).artist.family),1),(0,a._)("ul",de,[(0,a._)("li",ge,[fe,(0,a.Uk)(" "+(0,c.zw)((0,l.SU)(Ne).hall&&(0,l.SU)(Ne).hall.city.city_name)+" ،"+(0,c.zw)((0,l.SU)(Ne).hall&&(0,l.SU)(Ne).hall.hall_name),1)]),(0,a._)("li",ye,[ve,(0,a.Uk)(" "+(0,c.zw)((0,l.SU)(Ee).d),1)]),(0,a._)("li",he,[be,(0,a.Uk)(" "+(0,c.zw)((0,l.SU)(Ee).t),1)])])]),(0,a._)("div",xe,[ke,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,l.SU)(n).getCart,((e,t)=>((0,a.wg)(),(0,a.iD)("ul",{key:t,class:"select-info__checkout--list nav justify-content-around align-items-center py-1 px-4"},[(0,a._)("li",we,(0,c.zw)(e.position),1),(0,a._)("li",Se,(0,c.zw)(e.row),1),(0,a._)("li",Ue,(0,c.zw)(e.index),1),(0,a._)("li",Ie,(0,c.zw)(e.price.toLocaleString())+" تومان",1)])))),128)),(0,a._)("ul",ze,[je,De,(0,a._)("li",qe,(0,c.zw)((0,l.SU)(n).getTotal.toLocaleString())+" تومان ",1)]),(0,a._)("ul",Oe,[$e,(0,a._)("li",He,(0,c.zw)(((0,l.SU)(n).getTax+(0,l.SU)(n).getTotal).toLocaleString())+" تومان",1)]),(0,a._)("ul",Le,[Ce,(0,a._)("li",Te,(0,c.zw)(((0,l.SU)(n).getTax+(0,l.SU)(n).getTotal-(0,l.SU)(n).getDiscount).toLocaleString())+" تومان",1)])])]),(0,a._)("button",{type:"submit",onClick:(0,i.iM)(Ke,["prevent"]),class:"select-info__part--submit btn d-block w-100 border-0 p-2"},[(0,l.SU)(P)?((0,a.wg)(),(0,a.iD)("div",Ze,Ae)):((0,a.wg)(),(0,a.iD)("span",Be,"قوانین را پذیرفته ام، پرداخت"))]),Object.hasOwn((0,l.SU)(Ye),"inventory")?((0,a.wg)(),(0,a.iD)("div",Fe,(0,c.zw)((0,l.SU)(Ye).inventory.shift()),1)):(0,a.kq)("",!0),Object.hasOwn((0,l.SU)(Ye),"error")?((0,a.wg)(),(0,a.iD)("div",Ve,(0,c.zw)((0,l.SU)(Ye).error.shift()),1)):(0,a.kq)("",!0)])])])])])])],64))}}};const Ee=We;var Me=Ee},1905:function(e,t,s){e.exports=s.p+"img/ticket-calendar.824082c0.svg"},9101:function(e,t,s){e.exports=s.p+"img/ticket-location.dd5e9907.svg"}}]);
//# sourceMappingURL=428.4c67a81e.js.map